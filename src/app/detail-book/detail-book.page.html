<ion-header no-border>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="this.pushCartPage()" *ngIf="!this.cartSpinner">
        <ion-icon slot="icon-only" name="ios-cart" style="font-size: 23px;"></ion-icon>
      </ion-button>
      <span color="danger" class="icon-badge" *ngIf="this.cart?.length > 0 && !this.cartSpinner">{{ this.cart?.length }}</span>
      <ion-spinner name="crescent" *ngIf="this.cartSpinner"></ion-spinner>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div padding>
    <div class="book-area">
      <img src="{{ this.book.book_cover }}" width="30%" height="auto" class="book-cover">
      <h5 class="book-title">{{ this.book.book_title }}</h5>
      <h6 class="book-category">Self development</h6>
      <h6 class="book-price">{{ this.book.selling_price | currency:'Rp.' }} / hari</h6>
      <p class="book-synopsis" *ngIf="this.slicedSynopsis">{{ this.book.book_synopsis | slice:0:300 }} ...</p>
      <p class="book-synopsis" *ngIf="!this.slicedSynopsis">{{ this.book.book_synopsis }}</p>
      <p class="read-more" *ngIf="this.slicedSynopsis" (click)="this.unSliceSynopsis()">Baca selengkapnya</p>
      <p class="read-more" *ngIf="!this.slicedSynopsis" (click)="this.sliceSynopsis()">Sembunyikan</p>
    </div>
    <!-- <div class="separator-line"></div> -->
    <div class="detail-area">
      <ion-grid>
        <ion-row>
          <ion-col class="about-button" [ngClass]="this.aboutBook ? 'active-tab' : ''" (click)="this.showAboutBook()">
            Tentang buku
          </ion-col>
          <ion-col class="owner-button" [ngClass]="this.bookOwner ? 'active-tab' : ''" (click)="this.showBookOwner()">
            Pemilik buku
          </ion-col>
        </ion-row>
      </ion-grid>
      <div class="about-book" *ngIf="this.aboutBook">
        <ion-grid class="info-area">
          <ion-row>
            <ion-col>
              <h5 class="info-title">Kondisi</h5>
              <h5 class="info-description">Baik</h5>
            </ion-col>
            <ion-col>
              <h5 class="info-title">Halaman</h5>
              <h5 class="info-description">256</h5>
            </ion-col>
            <ion-col>
              <h5 class="info-title">Cover</h5>
              <h5 class="info-description">Hardcover</h5>
            </ion-col>
            <ion-col>
              <h5 class="info-title">Bahasa</h5>
              <h5 class="info-description">Indonesia</h5>
            </ion-col>
          </ion-row>
        </ion-grid>
        <div class="description-area">
          <h5 class="description-title">Deskripsi</h5>
          <p class="book-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
      </div>
      <div class="book-owner" *ngIf="this.bookOwner">
        <ion-grid>
          <ion-row>
            <ion-col size="4">
              <img src="https://i1.wp.com/ppmschool.ac.id/id/wp-content/uploads/2016/01/tutor-8.jpg" width="100%" height="auto" class="owner-profile">
            </ion-col>
            <ion-col>
              <h6 class="owner-name">Hizkia Mumu</h6>
              <h6 class="owner-area">Balikpapan Utara</h6>
              <h6 class="owner-books">
                <ion-icon name="bookmarks" style="margin-bottom: -1px;"></ion-icon>
                13 buku
              </h6>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
  </div>

  <div class="action-buttons">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-button color="blue" class="action-button" expand="block" fill="outline" [disabled]="this.cartSpinner" (click)="this.buyBook()">Beli Buku</ion-button>
        </ion-col>
        <ion-col>
          <ion-button color="blue" class="action-button" expand="block" [disabled]="this.cartSpinner" (click)="this.rentBook()">Sewa Buku</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

</ion-content>
